<html>
<head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.4/underscore-min.js"></script>

    <script src="lazyObject.js"></script>
    <script type="text/javascript">
        $(function() {
            var l = lazyObject();

            l.set('sleepy', 'wheee1');
            l.set('lazy', 'laaaaaazy');

            l.with('sleepy', function(sleepy) {
                console.log(sleepy);
            }, window);

            l.with('lazy', function(lazy) {
                console.log(lazy);
            });

            setTimeout(function() {
                l.set('sleepy', 'wheee');

                l.with(['lazy', 'sleepy'], function(lazy, sleepy) {
                    console.log(lazy, sleepy);
                });
            }, 1000);

            /*var d = $.Deferred();

            d.resolve(1);
            d.resolve(2);

            d.done(function(v) {
                console.log(v);
            });*/
        });
    </script>
</head>
<body>
</body>
</html>